{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIGABYTE\\\\Documents\\\\phone_selling_app\\\\frontend\\\\User\\\\src\\\\contexts\\\\FilterContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { ApiService } from '../services/api';\nimport { useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FilterContext = /*#__PURE__*/createContext();\nexport const useFilter = () => {\n  _s();\n  return useContext(FilterContext);\n};\n_s(useFilter, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const FilterProvider = ({\n  children\n}) => {\n  _s2();\n  const location = useLocation();\n  const [filters, setFilters] = useState({\n    category: null,\n    brand: null,\n    minPrice: null,\n    maxPrice: null,\n    search: '',\n    sort: 'popularity' // Default sort\n  });\n  const [brands, setBrands] = useState([]);\n  const [priceRange, setPriceRange] = useState({\n    min: 0,\n    max: 0,\n    steps: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Update category filter when URL changes\n  useEffect(() => {\n    const path = location.pathname;\n\n    // Reset filters when navigating to home\n    if (path === '/') {\n      setFilters(prev => ({\n        ...prev,\n        category: null,\n        brand: null,\n        minPrice: null,\n        maxPrice: null,\n        search: ''\n      }));\n      return;\n    }\n\n    // Extract category from path\n    if (path.includes('/phone')) {\n      updateFilter('category', 'phone');\n    } else if (path.includes('/laptop')) {\n      updateFilter('category', 'laptop');\n    } else if (path.includes('/tablet')) {\n      updateFilter('category', 'tablet');\n    } else if (path.includes('/accessory')) {\n      updateFilter('category', 'accessories');\n    } else if (path.includes('/smartwatch')) {\n      updateFilter('category', 'smartwatch');\n    } else if (path.includes('/watch')) {\n      updateFilter('category', 'watch');\n    } else if (path.includes('/pc')) {\n      updateFilter('category', 'pc');\n    }\n\n    // Extract search query from URL\n    const searchParams = new URLSearchParams(location.search);\n    const searchQuery = searchParams.get('q');\n    if (searchQuery) {\n      updateFilter('search', searchQuery);\n    }\n  }, [location]);\n\n  // Get price range and brands when category changes\n  useEffect(() => {\n    const fetchFilterData = async () => {\n      setLoading(true);\n      try {\n        // Fetch price range\n        const priceRangeData = await ApiService.fetchPriceRange();\n        setPriceRange(priceRangeData);\n\n        // In a real app, fetch brands based on category\n        // For now, hard-code some common brands\n        if (filters.category === 'phone') {\n          setBrands([{\n            id: 'apple',\n            name: 'Apple'\n          }, {\n            id: 'samsung',\n            name: 'Samsung'\n          }, {\n            id: 'xiaomi',\n            name: 'Xiaomi'\n          }, {\n            id: 'oppo',\n            name: 'OPPO'\n          }, {\n            id: 'vivo',\n            name: 'Vivo'\n          }, {\n            id: 'realme',\n            name: 'Realme'\n          }, {\n            id: 'nokia',\n            name: 'Nokia'\n          }]);\n        } else if (filters.category === 'laptop') {\n          setBrands([{\n            id: 'apple',\n            name: 'Apple'\n          }, {\n            id: 'dell',\n            name: 'Dell'\n          }, {\n            id: 'hp',\n            name: 'HP'\n          }, {\n            id: 'lenovo',\n            name: 'Lenovo'\n          }, {\n            id: 'asus',\n            name: 'Asus'\n          }, {\n            id: 'acer',\n            name: 'Acer'\n          }, {\n            id: 'msi',\n            name: 'MSI'\n          }]);\n        } else {\n          setBrands([]);\n        }\n      } catch (err) {\n        console.error('Error fetching filter data:', err);\n        setError(err.message || 'Failed to load filter data');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchFilterData();\n  }, [filters.category]);\n  const updateFilter = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const resetFilters = () => {\n    setFilters({\n      category: null,\n      brand: null,\n      minPrice: null,\n      maxPrice: null,\n      search: '',\n      sort: 'popularity'\n    });\n  };\n  const value = {\n    filters,\n    priceRange,\n    brands,\n    loading,\n    error,\n    updateFilter,\n    resetFilters\n  };\n  return /*#__PURE__*/_jsxDEV(FilterContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 10\n  }, this);\n};\n_s2(FilterProvider, \"hg+tZBKZ460d3Q+H1yB175TZ4iM=\", false, function () {\n  return [useLocation];\n});\n_c = FilterProvider;\nvar _c;\n$RefreshReg$(_c, \"FilterProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useLocation","ApiService","useContext","jsxDEV","_jsxDEV","FilterContext","useFilter","_s","FilterProvider","children","_s2","location","filters","setFilters","category","brand","minPrice","maxPrice","search","sort","brands","setBrands","priceRange","setPriceRange","min","max","steps","loading","setLoading","error","setError","path","pathname","prev","includes","updateFilter","searchParams","URLSearchParams","searchQuery","get","fetchFilterData","priceRangeData","fetchPriceRange","id","name","err","console","message","key","value","resetFilters","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/GIGABYTE/Documents/phone_selling_app/frontend/User/src/contexts/FilterContext.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { ApiService } from '../services/api';\r\nimport { useContext } from 'react';\r\n\r\nexport const FilterContext = createContext();\r\nexport const useFilter = () => useContext(FilterContext);\r\n\r\nexport const FilterProvider = ({ children }) => {\r\n  const location = useLocation();\r\n  const [filters, setFilters] = useState({\r\n    category: null,\r\n    brand: null,\r\n    minPrice: null,\r\n    maxPrice: null,\r\n    search: '',\r\n    sort: 'popularity', // Default sort\r\n  });\r\n  \r\n  const [brands, setBrands] = useState([]);\r\n  const [priceRange, setPriceRange] = useState({ min: 0, max: 0, steps: [] });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Update category filter when URL changes\r\n  useEffect(() => {\r\n    const path = location.pathname;\r\n    \r\n    // Reset filters when navigating to home\r\n    if (path === '/') {\r\n      setFilters(prev => ({\r\n        ...prev,\r\n        category: null,\r\n        brand: null,\r\n        minPrice: null,\r\n        maxPrice: null,\r\n        search: ''\r\n      }));\r\n      return;\r\n    }\r\n    \r\n    // Extract category from path\r\n    if (path.includes('/phone')) {\r\n      updateFilter('category', 'phone');\r\n    } else if (path.includes('/laptop')) {\r\n      updateFilter('category', 'laptop');\r\n    } else if (path.includes('/tablet')) {\r\n      updateFilter('category', 'tablet');\r\n    } else if (path.includes('/accessory')) {\r\n      updateFilter('category', 'accessories');\r\n    } else if (path.includes('/smartwatch')) {\r\n      updateFilter('category', 'smartwatch');\r\n    } else if (path.includes('/watch')) {\r\n      updateFilter('category', 'watch');\r\n    } else if (path.includes('/pc')) {\r\n      updateFilter('category', 'pc');\r\n    }\r\n    \r\n    // Extract search query from URL\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const searchQuery = searchParams.get('q');\r\n    if (searchQuery) {\r\n      updateFilter('search', searchQuery);\r\n    }\r\n  }, [location]);\r\n\r\n  // Get price range and brands when category changes\r\n  useEffect(() => {\r\n    const fetchFilterData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        // Fetch price range\r\n        const priceRangeData = await ApiService.fetchPriceRange();\r\n        setPriceRange(priceRangeData);\r\n        \r\n        // In a real app, fetch brands based on category\r\n        // For now, hard-code some common brands\r\n        if (filters.category === 'phone') {\r\n          setBrands([\r\n            { id: 'apple', name: 'Apple' },\r\n            { id: 'samsung', name: 'Samsung' },\r\n            { id: 'xiaomi', name: 'Xiaomi' },\r\n            { id: 'oppo', name: 'OPPO' },\r\n            { id: 'vivo', name: 'Vivo' },\r\n            { id: 'realme', name: 'Realme' },\r\n            { id: 'nokia', name: 'Nokia' },\r\n          ]);\r\n        } else if (filters.category === 'laptop') {\r\n          setBrands([\r\n            { id: 'apple', name: 'Apple' },\r\n            { id: 'dell', name: 'Dell' },\r\n            { id: 'hp', name: 'HP' },\r\n            { id: 'lenovo', name: 'Lenovo' },\r\n            { id: 'asus', name: 'Asus' },\r\n            { id: 'acer', name: 'Acer' },\r\n            { id: 'msi', name: 'MSI' },\r\n          ]);\r\n        } else {\r\n          setBrands([]);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching filter data:', err);\r\n        setError(err.message || 'Failed to load filter data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchFilterData();\r\n  }, [filters.category]);\r\n\r\n  const updateFilter = (key, value) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setFilters({\r\n      category: null,\r\n      brand: null,\r\n      minPrice: null,\r\n      maxPrice: null,\r\n      search: '',\r\n      sort: 'popularity',\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    filters,\r\n    priceRange,\r\n    brands,\r\n    loading,\r\n    error,\r\n    updateFilter,\r\n    resetFilters,\r\n  };\r\n\r\n  return <FilterContext.Provider value={value}>{children}</FilterContext.Provider>;\r\n\r\n \r\n  }; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}