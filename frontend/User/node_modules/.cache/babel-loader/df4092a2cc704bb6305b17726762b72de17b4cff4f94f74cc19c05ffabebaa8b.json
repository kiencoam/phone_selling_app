{"ast":null,"code":"import { ApiService } from './api';\n\n// Dữ liệu mẫu cho khuyến mãi\nconst mockActivePromotions = [{\n  id: 1,\n  title: 'Mừng Tết 2024',\n  description: 'Giảm đến 30% cho tất cả sản phẩm',\n  imageUrl: '/assets/images/promotions/tet-2024.jpg',\n  startDate: '2024-01-20',\n  endDate: '2024-02-20',\n  discountPercent: 30,\n  categoryId: 'all'\n}, {\n  id: 2,\n  title: 'Back to School',\n  description: 'Ưu đãi đặc biệt cho học sinh, sinh viên',\n  imageUrl: '/assets/images/promotions/back-to-school.jpg',\n  startDate: '2024-08-01',\n  endDate: '2024-09-15',\n  discountPercent: 20,\n  categoryId: 'laptop'\n}, {\n  id: 3,\n  title: 'Khuyến mãi iPhone',\n  description: 'Giảm ngay 2 triệu khi mua iPhone 15 series',\n  imageUrl: '/assets/images/promotions/iphone-promo.jpg',\n  startDate: '2024-02-01',\n  endDate: '2024-03-01',\n  discountAmount: 2000000,\n  categoryId: 'phone',\n  brandId: 'apple'\n}];\n\n// Dữ liệu mẫu cho flash sale\nconst mockFlashSales = {\n  id: 'flash-sale-2024-02',\n  title: 'FLASH SALE THÁNG 2',\n  endTime: new Date(Date.now() + 12 * 60 * 60 * 1000).toISOString(),\n  // 12 giờ từ bây giờ\n  products: [{\n    id: 1,\n    name: 'iPhone 15 Pro Max',\n    originalPrice: 34990000,\n    salePrice: 30990000,\n    imageUrl: '/assets/images/products/iphone-15-pro-max.jpg',\n    discount: 11,\n    soldCount: 42,\n    totalCount: 50\n  }, {\n    id: 2,\n    name: 'Samsung Galaxy S24 Ultra',\n    originalPrice: 31990000,\n    salePrice: 28990000,\n    imageUrl: '/assets/images/products/samsung-galaxy-s24.jpg',\n    discount: 9,\n    soldCount: 38,\n    totalCount: 50\n  }, {\n    id: 5,\n    name: 'MacBook Pro 16 M3 Max',\n    originalPrice: 85990000,\n    salePrice: 78990000,\n    imageUrl: '/assets/images/products/macbook-pro-16.jpg',\n    discount: 8,\n    soldCount: 25,\n    totalCount: 30\n  }]\n};\nexport const PromotionService = {\n  getAllPromotions: async () => {\n    try {\n      // Trong môi trường thực tế, sẽ gọi API thật\n      // const response = await ApiService.get('/promotions');\n      // return response.data;\n\n      // Trả về dữ liệu mẫu\n      return mockActivePromotions;\n    } catch (error) {\n      console.error('Error fetching all promotions:', error);\n      return [];\n    }\n  },\n  getPromotionById: async id => {\n    try {\n      // Trong môi trường thực tế:\n      // const response = await ApiService.get(`/promotions/${id}`);\n      // return response.data;\n\n      return mockActivePromotions.find(promo => promo.id === parseInt(id, 10)) || null;\n    } catch (error) {\n      console.error(`Error fetching promotion with id ${id}:`, error);\n      return null;\n    }\n  },\n  getActivePromotions: async () => {\n    try {\n      // Trong môi trường thực tế:\n      // const response = await ApiService.get('/promotions/active');\n      // return response.data;\n\n      return mockActivePromotions;\n    } catch (error) {\n      console.error('Error fetching active promotions:', error);\n      return [];\n    }\n  },\n  getFlashSales: async () => {\n    try {\n      // Trong môi trường thực tế:\n      // const response = await ApiService.get('/promotions/flash-sales');\n      // return response.data;\n\n      return mockFlashSales;\n    } catch (error) {\n      console.error('Error fetching flash sales:', error);\n      return null;\n    }\n  },\n  applyPromoCode: async code => {\n    try {\n      // Trong môi trường thực tế:\n      // const response = await ApiService.post('/promotions/apply', { code });\n      // return response.data;\n\n      // Mô phỏng việc áp dụng mã khuyến mãi\n      if (code === 'WELCOME10') {\n        return {\n          success: true,\n          discount: 10,\n          discountType: 'percent',\n          message: 'Áp dụng mã giảm giá thành công'\n        };\n      } else if (code === 'FREESHIP') {\n        return {\n          success: true,\n          discount: 0,\n          discountType: 'shipping',\n          message: 'Áp dụng mã miễn phí vận chuyển thành công'\n        };\n      } else {\n        return {\n          success: false,\n          message: 'Mã khuyến mãi không hợp lệ hoặc đã hết hạn'\n        };\n      }\n    } catch (error) {\n      console.error('Error applying promo code:', error);\n      return {\n        success: false,\n        message: 'Đã xảy ra lỗi khi áp dụng mã khuyến mãi'\n      };\n    }\n  }\n};","map":{"version":3,"names":["ApiService","mockActivePromotions","id","title","description","imageUrl","startDate","endDate","discountPercent","categoryId","discountAmount","brandId","mockFlashSales","endTime","Date","now","toISOString","products","name","originalPrice","salePrice","discount","soldCount","totalCount","PromotionService","getAllPromotions","error","console","getPromotionById","find","promo","parseInt","getActivePromotions","getFlashSales","applyPromoCode","code","success","discountType","message"],"sources":["C:/Users/GIGABYTE/Documents/phone_selling_app/frontend/User/src/services/promotion.service.js"],"sourcesContent":["import { ApiService } from './api';\r\n\r\n// Dữ liệu mẫu cho khuyến mãi\r\nconst mockActivePromotions = [\r\n  {\r\n    id: 1,\r\n    title: 'Mừng Tết 2024',\r\n    description: 'Giảm đến 30% cho tất cả sản phẩm',\r\n    imageUrl: '/assets/images/promotions/tet-2024.jpg',\r\n    startDate: '2024-01-20',\r\n    endDate: '2024-02-20',\r\n    discountPercent: 30,\r\n    categoryId: 'all'\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Back to School',\r\n    description: 'Ưu đãi đặc biệt cho học sinh, sinh viên',\r\n    imageUrl: '/assets/images/promotions/back-to-school.jpg',\r\n    startDate: '2024-08-01',\r\n    endDate: '2024-09-15',\r\n    discountPercent: 20,\r\n    categoryId: 'laptop'\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Khuyến mãi iPhone',\r\n    description: 'Giảm ngay 2 triệu khi mua iPhone 15 series',\r\n    imageUrl: '/assets/images/promotions/iphone-promo.jpg',\r\n    startDate: '2024-02-01',\r\n    endDate: '2024-03-01',\r\n    discountAmount: 2000000,\r\n    categoryId: 'phone',\r\n    brandId: 'apple'\r\n  }\r\n];\r\n\r\n// Dữ liệu mẫu cho flash sale\r\nconst mockFlashSales = {\r\n  id: 'flash-sale-2024-02',\r\n  title: 'FLASH SALE THÁNG 2',\r\n  endTime: new Date(Date.now() + 12 * 60 * 60 * 1000).toISOString(), // 12 giờ từ bây giờ\r\n  products: [\r\n    {\r\n      id: 1,\r\n      name: 'iPhone 15 Pro Max',\r\n      originalPrice: 34990000,\r\n      salePrice: 30990000,\r\n      imageUrl: '/assets/images/products/iphone-15-pro-max.jpg',\r\n      discount: 11,\r\n      soldCount: 42,\r\n      totalCount: 50\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Samsung Galaxy S24 Ultra',\r\n      originalPrice: 31990000,\r\n      salePrice: 28990000,\r\n      imageUrl: '/assets/images/products/samsung-galaxy-s24.jpg',\r\n      discount: 9,\r\n      soldCount: 38,\r\n      totalCount: 50\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'MacBook Pro 16 M3 Max',\r\n      originalPrice: 85990000,\r\n      salePrice: 78990000,\r\n      imageUrl: '/assets/images/products/macbook-pro-16.jpg',\r\n      discount: 8,\r\n      soldCount: 25,\r\n      totalCount: 30\r\n    }\r\n  ]\r\n};\r\n\r\nexport const PromotionService = {\r\n  getAllPromotions: async () => {\r\n    try {\r\n      // Trong môi trường thực tế, sẽ gọi API thật\r\n      // const response = await ApiService.get('/promotions');\r\n      // return response.data;\r\n      \r\n      // Trả về dữ liệu mẫu\r\n      return mockActivePromotions;\r\n    } catch (error) {\r\n      console.error('Error fetching all promotions:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  getPromotionById: async (id) => {\r\n    try {\r\n      // Trong môi trường thực tế:\r\n      // const response = await ApiService.get(`/promotions/${id}`);\r\n      // return response.data;\r\n      \r\n      return mockActivePromotions.find(promo => promo.id === parseInt(id, 10)) || null;\r\n    } catch (error) {\r\n      console.error(`Error fetching promotion with id ${id}:`, error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  getActivePromotions: async () => {\r\n    try {\r\n      // Trong môi trường thực tế:\r\n      // const response = await ApiService.get('/promotions/active');\r\n      // return response.data;\r\n      \r\n      return mockActivePromotions;\r\n    } catch (error) {\r\n      console.error('Error fetching active promotions:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  getFlashSales: async () => {\r\n    try {\r\n      // Trong môi trường thực tế:\r\n      // const response = await ApiService.get('/promotions/flash-sales');\r\n      // return response.data;\r\n      \r\n      return mockFlashSales;\r\n    } catch (error) {\r\n      console.error('Error fetching flash sales:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  applyPromoCode: async (code) => {\r\n    try {\r\n      // Trong môi trường thực tế:\r\n      // const response = await ApiService.post('/promotions/apply', { code });\r\n      // return response.data;\r\n      \r\n      // Mô phỏng việc áp dụng mã khuyến mãi\r\n      if (code === 'WELCOME10') {\r\n        return {\r\n          success: true,\r\n          discount: 10,\r\n          discountType: 'percent',\r\n          message: 'Áp dụng mã giảm giá thành công'\r\n        };\r\n      } else if (code === 'FREESHIP') {\r\n        return {\r\n          success: true,\r\n          discount: 0,\r\n          discountType: 'shipping',\r\n          message: 'Áp dụng mã miễn phí vận chuyển thành công'\r\n        };\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: 'Mã khuyến mãi không hợp lệ hoặc đã hết hạn'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error applying promo code:', error);\r\n      return {\r\n        success: false,\r\n        message: 'Đã xảy ra lỗi khi áp dụng mã khuyến mãi'\r\n      };\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,OAAO;;AAElC;AACA,MAAMC,oBAAoB,GAAG,CAC3B;EACEC,EAAE,EAAE,CAAC;EACLC,KAAK,EAAE,eAAe;EACtBC,WAAW,EAAE,kCAAkC;EAC/CC,QAAQ,EAAE,wCAAwC;EAClDC,SAAS,EAAE,YAAY;EACvBC,OAAO,EAAE,YAAY;EACrBC,eAAe,EAAE,EAAE;EACnBC,UAAU,EAAE;AACd,CAAC,EACD;EACEP,EAAE,EAAE,CAAC;EACLC,KAAK,EAAE,gBAAgB;EACvBC,WAAW,EAAE,yCAAyC;EACtDC,QAAQ,EAAE,8CAA8C;EACxDC,SAAS,EAAE,YAAY;EACvBC,OAAO,EAAE,YAAY;EACrBC,eAAe,EAAE,EAAE;EACnBC,UAAU,EAAE;AACd,CAAC,EACD;EACEP,EAAE,EAAE,CAAC;EACLC,KAAK,EAAE,mBAAmB;EAC1BC,WAAW,EAAE,4CAA4C;EACzDC,QAAQ,EAAE,4CAA4C;EACtDC,SAAS,EAAE,YAAY;EACvBC,OAAO,EAAE,YAAY;EACrBG,cAAc,EAAE,OAAO;EACvBD,UAAU,EAAE,OAAO;EACnBE,OAAO,EAAE;AACX,CAAC,CACF;;AAED;AACA,MAAMC,cAAc,GAAG;EACrBV,EAAE,EAAE,oBAAoB;EACxBC,KAAK,EAAE,oBAAoB;EAC3BU,OAAO,EAAE,IAAIC,IAAI,CAACA,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAACC,WAAW,CAAC,CAAC;EAAE;EACnEC,QAAQ,EAAE,CACR;IACEf,EAAE,EAAE,CAAC;IACLgB,IAAI,EAAE,mBAAmB;IACzBC,aAAa,EAAE,QAAQ;IACvBC,SAAS,EAAE,QAAQ;IACnBf,QAAQ,EAAE,+CAA+C;IACzDgB,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,EAAE;IACbC,UAAU,EAAE;EACd,CAAC,EACD;IACErB,EAAE,EAAE,CAAC;IACLgB,IAAI,EAAE,0BAA0B;IAChCC,aAAa,EAAE,QAAQ;IACvBC,SAAS,EAAE,QAAQ;IACnBf,QAAQ,EAAE,gDAAgD;IAC1DgB,QAAQ,EAAE,CAAC;IACXC,SAAS,EAAE,EAAE;IACbC,UAAU,EAAE;EACd,CAAC,EACD;IACErB,EAAE,EAAE,CAAC;IACLgB,IAAI,EAAE,uBAAuB;IAC7BC,aAAa,EAAE,QAAQ;IACvBC,SAAS,EAAE,QAAQ;IACnBf,QAAQ,EAAE,4CAA4C;IACtDgB,QAAQ,EAAE,CAAC;IACXC,SAAS,EAAE,EAAE;IACbC,UAAU,EAAE;EACd,CAAC;AAEL,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAG;EAC9BC,gBAAgB,EAAE,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF;MACA;MACA;;MAEA;MACA,OAAOxB,oBAAoB;IAC7B,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,OAAO,EAAE;IACX;EACF,CAAC;EAEDE,gBAAgB,EAAE,MAAO1B,EAAE,IAAK;IAC9B,IAAI;MACF;MACA;MACA;;MAEA,OAAOD,oBAAoB,CAAC4B,IAAI,CAACC,KAAK,IAAIA,KAAK,CAAC5B,EAAE,KAAK6B,QAAQ,CAAC7B,EAAE,EAAE,EAAE,CAAC,CAAC,IAAI,IAAI;IAClF,CAAC,CAAC,OAAOwB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oCAAoCxB,EAAE,GAAG,EAAEwB,KAAK,CAAC;MAC/D,OAAO,IAAI;IACb;EACF,CAAC;EAEDM,mBAAmB,EAAE,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF;MACA;MACA;;MAEA,OAAO/B,oBAAoB;IAC7B,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,OAAO,EAAE;IACX;EACF,CAAC;EAEDO,aAAa,EAAE,MAAAA,CAAA,KAAY;IACzB,IAAI;MACF;MACA;MACA;;MAEA,OAAOrB,cAAc;IACvB,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,OAAO,IAAI;IACb;EACF,CAAC;EAEDQ,cAAc,EAAE,MAAOC,IAAI,IAAK;IAC9B,IAAI;MACF;MACA;MACA;;MAEA;MACA,IAAIA,IAAI,KAAK,WAAW,EAAE;QACxB,OAAO;UACLC,OAAO,EAAE,IAAI;UACbf,QAAQ,EAAE,EAAE;UACZgB,YAAY,EAAE,SAAS;UACvBC,OAAO,EAAE;QACX,CAAC;MACH,CAAC,MAAM,IAAIH,IAAI,KAAK,UAAU,EAAE;QAC9B,OAAO;UACLC,OAAO,EAAE,IAAI;UACbf,QAAQ,EAAE,CAAC;UACXgB,YAAY,EAAE,UAAU;UACxBC,OAAO,EAAE;QACX,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACLF,OAAO,EAAE,KAAK;UACdE,OAAO,EAAE;QACX,CAAC;MACH;IACF,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,OAAO;QACLU,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}