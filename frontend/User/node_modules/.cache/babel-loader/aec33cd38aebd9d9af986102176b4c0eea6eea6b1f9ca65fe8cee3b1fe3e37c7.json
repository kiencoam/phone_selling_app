{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIGABYTE\\\\Documents\\\\phone_selling_app\\\\frontend\\\\User\\\\src\\\\pages\\\\Category\\\\Category.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ApiService } from '../../services/api';\nimport styles from './Category.module.css';\nimport FilterSidebar from './FilterSidebar';\nimport ProductList from './ProductList';\nimport LoadingFallback from '../../components/common/LoadingFallback';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Category = () => {\n  _s();\n  const {\n    categorySlug\n  } = useParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filters, setFilters] = useState({\n    priceRange: '',\n    brands: [],\n    features: []\n  });\n  useEffect(() => {\n    const fetchProducts = async () => {\n      console.log('[Category] fetchProducts - start', {\n        categorySlug\n      });\n      setLoading(true);\n      try {\n        const productsData = await ApiService.fetchProductsByCategory(categorySlug, filters);\n        console.log('[Category] Products fetched successfully', {\n          count: productsData.length\n        });\n        setProducts(productsData);\n        setError(null);\n      } catch (err) {\n        console.error('[Category] Error fetching products:', err);\n        setError('Không thể tải danh sách sản phẩm. Vui lòng thử lại sau.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, [categorySlug, filters]);\n  const handleFilterChange = newFilters => {\n    console.log('[Category] Filter changed:', newFilters);\n    setFilters(newFilters);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingFallback, {\n      message: \"\\u0110ang t\\u1EA3i danh s\\xE1ch s\\u1EA3n ph\\u1EA9m...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.errorContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-exclamation-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        className: styles.refreshButton,\n        children: \"T\\u1EA3i l\\u1EA1i trang\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.layout,\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: styles.sidebar,\n        children: /*#__PURE__*/_jsxDEV(FilterSidebar, {\n          onFilterChange: handleFilterChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: styles.main,\n        children: /*#__PURE__*/_jsxDEV(ProductList, {\n          products: products,\n          categoryName: getCategoryName(categorySlug)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n// Helper function to get category name from slug\n_s(Category, \"NNIlfuAyCzeQFSpfz0uJi235lm8=\", false, function () {\n  return [useParams];\n});\n_c = Category;\nconst getCategoryName = slug => {\n  const categoryMap = {\n    'phone': 'Điện thoại',\n    'laptop': 'Laptop',\n    'tablet': 'Máy tính bảng',\n    'accessories': 'Phụ kiện',\n    'smartwatch': 'Đồng hồ thông minh',\n    'watch': 'Đồng hồ',\n    'pc': 'PC, Máy in'\n  };\n  return categoryMap[slug] || slug;\n};\nexport default Category;\nvar _c;\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"names":["React","useState","useEffect","useParams","ApiService","styles","FilterSidebar","ProductList","LoadingFallback","jsxDEV","_jsxDEV","Category","_s","categorySlug","products","setProducts","loading","setLoading","error","setError","filters","setFilters","priceRange","brands","features","fetchProducts","console","log","productsData","fetchProductsByCategory","count","length","err","handleFilterChange","newFilters","message","fileName","_jsxFileName","lineNumber","columnNumber","className","errorContainer","children","onClick","window","location","reload","refreshButton","container","layout","sidebar","onFilterChange","main","categoryName","getCategoryName","_c","slug","categoryMap","$RefreshReg$"],"sources":["C:/Users/GIGABYTE/Documents/phone_selling_app/frontend/User/src/pages/Category/Category.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ApiService } from '../../services/api';\r\nimport styles from './Category.module.css';\r\nimport FilterSidebar from './FilterSidebar';\r\nimport ProductList from './ProductList';\r\nimport LoadingFallback from '../../components/common/LoadingFallback';\r\n\r\nconst Category = () => {\r\n  const { categorySlug } = useParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [filters, setFilters] = useState({\r\n    priceRange: '',\r\n    brands: [],\r\n    features: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      console.log('[Category] fetchProducts - start', { categorySlug });\r\n      setLoading(true);\r\n      try {\r\n        const productsData = await ApiService.fetchProductsByCategory(categorySlug, filters);\r\n        console.log('[Category] Products fetched successfully', { count: productsData.length });\r\n        setProducts(productsData);\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error('[Category] Error fetching products:', err);\r\n        setError('Không thể tải danh sách sản phẩm. Vui lòng thử lại sau.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, [categorySlug, filters]);\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    console.log('[Category] Filter changed:', newFilters);\r\n    setFilters(newFilters);\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingFallback message=\"Đang tải danh sách sản phẩm...\" />;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <i className=\"fas fa-exclamation-circle\"></i>\r\n        <p>{error}</p>\r\n        <button \r\n          onClick={() => window.location.reload()}\r\n          className={styles.refreshButton}\r\n        >\r\n          Tải lại trang\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.layout}>\r\n        <aside className={styles.sidebar}>\r\n          <FilterSidebar onFilterChange={handleFilterChange} />\r\n        </aside>\r\n        <main className={styles.main}>\r\n          <ProductList \r\n            products={products} \r\n            categoryName={getCategoryName(categorySlug)}\r\n          />\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Helper function to get category name from slug\r\nconst getCategoryName = (slug) => {\r\n  const categoryMap = {\r\n    'phone': 'Điện thoại',\r\n    'laptop': 'Laptop',\r\n    'tablet': 'Máy tính bảng',\r\n    'accessories': 'Phụ kiện',\r\n    'smartwatch': 'Đồng hồ thông minh',\r\n    'watch': 'Đồng hồ',\r\n    'pc': 'PC, Máy in'\r\n  };\r\n  return categoryMap[slug] || slug;\r\n};\r\n\r\nexport default Category;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}