{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIGABYTE\\\\Documents\\\\phone_selling_app\\\\frontend\\\\User\\\\src\\\\contexts\\\\PromotionContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { PromotionService } from '../services/promotion.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PromotionContext = /*#__PURE__*/createContext();\nexport const PromotionProvider = ({\n  children\n}) => {\n  _s();\n  const [activePromotions, setActivePromotions] = useState([]);\n  const [flashSales, setFlashSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchActivePromotions();\n  }, []);\n  const fetchActivePromotions = async () => {\n    try {\n      const [promotions, flashSaleData] = await Promise.all([PromotionService.getActivePromotions(), PromotionService.getFlashSales()]);\n      setActivePromotions(promotions);\n      setFlashSales(flashSaleData);\n    } catch (error) {\n      console.error('Error fetching promotions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(PromotionContext.Provider, {\n    value: {\n      activePromotions,\n      flashSales,\n      loading,\n      fetchActivePromotions\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(PromotionProvider, \"0ovQMlfiFMsrBWulFpxgqisdLOE=\");\n_c = PromotionProvider;\nexport const usePromotion = () => {\n  _s2();\n  try {\n    const context = useContext(PromotionContext);\n    if (!context) {\n      console.warn('usePromotion was used outside of PromotionProvider, using fallback values');\n      return {\n        activePromotions: [],\n        flashSales: [],\n        loading: false,\n        fetchActivePromotions: () => {\n          console.warn('fetchActivePromotions called outside PromotionProvider');\n          return Promise.resolve([]);\n        }\n      };\n    }\n    return context;\n  } catch (error) {\n    console.error('Error in usePromotion hook:', error);\n    return {\n      activePromotions: [],\n      flashSales: [],\n      loading: false,\n      fetchActivePromotions: () => Promise.resolve([])\n    };\n  }\n};\n_s2(usePromotion, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"PromotionProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","PromotionService","jsxDEV","_jsxDEV","PromotionContext","PromotionProvider","children","_s","activePromotions","setActivePromotions","flashSales","setFlashSales","loading","setLoading","fetchActivePromotions","promotions","flashSaleData","Promise","all","getActivePromotions","getFlashSales","error","console","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","usePromotion","_s2","context","warn","resolve","$RefreshReg$"],"sources":["C:/Users/GIGABYTE/Documents/phone_selling_app/frontend/User/src/contexts/PromotionContext.jsx"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { PromotionService } from '../services/promotion.service';\r\n\r\nconst PromotionContext = createContext();\r\n\r\nexport const PromotionProvider = ({ children }) => {\r\n  const [activePromotions, setActivePromotions] = useState([]);\r\n  const [flashSales, setFlashSales] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchActivePromotions();\r\n  }, []);\r\n\r\n  const fetchActivePromotions = async () => {\r\n    try {\r\n      const [promotions, flashSaleData] = await Promise.all([\r\n        PromotionService.getActivePromotions(),\r\n        PromotionService.getFlashSales()\r\n      ]);\r\n      setActivePromotions(promotions);\r\n      setFlashSales(flashSaleData);\r\n    } catch (error) {\r\n      console.error('Error fetching promotions:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PromotionContext.Provider \r\n      value={{ \r\n        activePromotions, \r\n        flashSales, \r\n        loading,\r\n        fetchActivePromotions \r\n      }}\r\n    >\r\n      {children}\r\n    </PromotionContext.Provider>\r\n  );\r\n};\r\n\r\nexport const usePromotion = () => {\r\n  try {\r\n    const context = useContext(PromotionContext);\r\n    \r\n    if (!context) {\r\n      console.warn('usePromotion was used outside of PromotionProvider, using fallback values');\r\n      return {\r\n        activePromotions: [],\r\n        flashSales: [],\r\n        loading: false,\r\n        fetchActivePromotions: () => {\r\n          console.warn('fetchActivePromotions called outside PromotionProvider');\r\n          return Promise.resolve([]);\r\n        }\r\n      };\r\n    }\r\n    \r\n    return context;\r\n  } catch (error) {\r\n    console.error('Error in usePromotion hook:', error);\r\n    return {\r\n      activePromotions: [],\r\n      flashSales: [],\r\n      loading: false,\r\n      fetchActivePromotions: () => Promise.resolve([])\r\n    };\r\n  }\r\n};"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,gBAAgB,QAAQ,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjE,MAAMC,gBAAgB,gBAAGP,aAAa,CAAC,CAAC;AAExC,OAAO,MAAMQ,iBAAiB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACjD,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAE5CE,SAAS,CAAC,MAAM;IACdc,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACxC,IAAI;MACF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACpDjB,gBAAgB,CAACkB,mBAAmB,CAAC,CAAC,EACtClB,gBAAgB,CAACmB,aAAa,CAAC,CAAC,CACjC,CAAC;MACFX,mBAAmB,CAACM,UAAU,CAAC;MAC/BJ,aAAa,CAACK,aAAa,CAAC;IAC9B,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD,CAAC,SAAS;MACRR,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEV,OAAA,CAACC,gBAAgB,CAACmB,QAAQ;IACxBC,KAAK,EAAE;MACLhB,gBAAgB;MAChBE,UAAU;MACVE,OAAO;MACPE;IACF,CAAE;IAAAR,QAAA,EAEDA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACgB,CAAC;AAEhC,CAAC;AAACrB,EAAA,CApCWF,iBAAiB;AAAAwB,EAAA,GAAjBxB,iBAAiB;AAsC9B,OAAO,MAAMyB,YAAY,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAChC,IAAI;IACF,MAAMC,OAAO,GAAGjC,UAAU,CAACK,gBAAgB,CAAC;IAE5C,IAAI,CAAC4B,OAAO,EAAE;MACZV,OAAO,CAACW,IAAI,CAAC,2EAA2E,CAAC;MACzF,OAAO;QACLzB,gBAAgB,EAAE,EAAE;QACpBE,UAAU,EAAE,EAAE;QACdE,OAAO,EAAE,KAAK;QACdE,qBAAqB,EAAEA,CAAA,KAAM;UAC3BQ,OAAO,CAACW,IAAI,CAAC,wDAAwD,CAAC;UACtE,OAAOhB,OAAO,CAACiB,OAAO,CAAC,EAAE,CAAC;QAC5B;MACF,CAAC;IACH;IAEA,OAAOF,OAAO;EAChB,CAAC,CAAC,OAAOX,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO;MACLb,gBAAgB,EAAE,EAAE;MACpBE,UAAU,EAAE,EAAE;MACdE,OAAO,EAAE,KAAK;MACdE,qBAAqB,EAAEA,CAAA,KAAMG,OAAO,CAACiB,OAAO,CAAC,EAAE;IACjD,CAAC;EACH;AACF,CAAC;AAACH,GAAA,CA3BWD,YAAY;AAAA,IAAAD,EAAA;AAAAM,YAAA,CAAAN,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}