{"ast":null,"code":"import axios from 'axios';\nimport { API_CONFIG } from '../constants/api';\n\n// API base URL\nconst API_BASE_URL = API_CONFIG.BASE_URL;\n\n// Tạo dữ liệu mẫu cho fallback trong trường hợp API không hoạt động\nconst FALLBACK_DATA = {\n  products: [{\n    id: 1,\n    name: 'iPhone 15 Pro Max',\n    price: 34990000,\n    discountPrice: 32990000,\n    imageUrl: '/assets/images/products/iphone-15-pro-max.jpg',\n    categoryId: 'phone',\n    brandId: 'apple',\n    rating: 4.9,\n    reviewCount: 120,\n    stockStatus: 'in_stock'\n  }, {\n    id: 2,\n    name: 'Samsung Galaxy S24 Ultra',\n    price: 31990000,\n    discountPrice: 29990000,\n    imageUrl: '/assets/images/products/samsung-galaxy-s24.jpg',\n    categoryId: 'phone',\n    brandId: 'samsung',\n    rating: 4.8,\n    reviewCount: 95,\n    stockStatus: 'in_stock'\n  }],\n  categories: [{\n    id: 'phone',\n    name: 'Điện thoại',\n    icon: 'fa-mobile-alt',\n    path: '/phone'\n  }, {\n    id: 'laptop',\n    name: 'Laptop',\n    icon: 'fa-laptop',\n    path: '/laptop'\n  }],\n  banners: [{\n    id: 1,\n    title: 'iPhone 15 Pro Max Mới',\n    imageUrl: '/assets/images/banners/iphone-15-pro-max.jpg',\n    link: '/product/iphone-15-pro-max'\n  }],\n  cart: {\n    items: [],\n    total: 0\n  },\n  orders: []\n};\n\n// Create an axios instance\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: API_CONFIG.TIMEOUT // 10 seconds timeout\n});\n\n// Add request interceptor for auth token\napiClient.interceptors.request.use(config => {\n  const token = localStorage.getItem('authToken');\n  console.log(`[API Request] ${config.method.toUpperCase()} ${config.url}`, {\n    hasToken: !!token,\n    params: config.params\n  });\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  console.error('[API Request Error]', error);\n  return Promise.reject(error);\n});\n\n// Add response interceptor for error handling\napiClient.interceptors.response.use(response => {\n  console.log(`[API Response] ${response.config.method.toUpperCase()} ${response.config.url}`, {\n    status: response.status,\n    data: response.data ? typeof response.data === 'object' ? 'Object Data' : 'Data' : null\n  });\n  return response;\n}, error => {\n  var _error$config, _error$config$method, _error$config2, _error$response, _error$response2;\n  console.error(`[API Error] ${((_error$config = error.config) === null || _error$config === void 0 ? void 0 : (_error$config$method = _error$config.method) === null || _error$config$method === void 0 ? void 0 : _error$config$method.toUpperCase()) || 'UNKNOWN'} ${((_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : _error$config2.url) || 'unknown'}`, {\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: error.message,\n    data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data\n  });\n\n  // Handle 401 Unauthorized errors\n  if (error.response && error.response.status === 401) {\n    // Clear local storage but don't redirect automatically\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n\n    // Chỉ chuyển hướng nếu đang ở trang yêu cầu xác thực\n    const protectedRoutes = ['/cart', '/checkout', '/profile', '/orders'];\n    const currentPath = window.location.pathname;\n    console.log('[Auth] 401 Error - Protected route check', {\n      currentPath,\n      isProtected: protectedRoutes.some(route => currentPath.startsWith(route))\n    });\n    if (protectedRoutes.some(route => currentPath.startsWith(route))) {\n      window.location.href = '/login';\n    }\n  }\n  return Promise.reject(error);\n});\n\n// For demo purposes, we'll add some mock data\nconst mockBanners = [{\n  id: 1,\n  title: 'iPhone 15 Pro Max Mới',\n  imageUrl: '/assets/images/banners/iphone-15-pro-max.jpg',\n  link: '/product/iphone-15-pro-max',\n  categoryId: 'phone',\n  placeId: 'home'\n}, {\n  id: 2,\n  title: 'Samsung Galaxy S24 Ultra',\n  imageUrl: '/assets/images/banners/samsung-galaxy-s24.jpg',\n  link: '/product/samsung-galaxy-s24-ultra',\n  categoryId: 'phone',\n  placeId: 'home'\n}, {\n  id: 3,\n  title: 'Laptop Gaming Asus ROG',\n  imageUrl: '/assets/images/banners/asus-rog.jpg',\n  link: '/product/asus-rog-strix-g16',\n  categoryId: 'laptop',\n  placeId: 'home'\n}];\nconst mockCategories = [{\n  id: 'phone',\n  name: 'Điện thoại',\n  icon: 'fa-mobile-alt',\n  path: '/phone'\n}, {\n  id: 'laptop',\n  name: 'Laptop',\n  icon: 'fa-laptop',\n  path: '/laptop'\n}, {\n  id: 'tablet',\n  name: 'Máy tính bảng',\n  icon: 'fa-tablet-alt',\n  path: '/tablet'\n}, {\n  id: 'smartwatch',\n  name: 'Đồng hồ thông minh',\n  icon: 'fa-clock',\n  path: '/smartwatch'\n}, {\n  id: 'accessories',\n  name: 'Phụ kiện',\n  icon: 'fa-headphones',\n  path: '/accessory'\n}, {\n  id: 'watch',\n  name: 'Đồng hồ',\n  icon: 'fa-stopwatch',\n  path: '/watch'\n}, {\n  id: 'pc',\n  name: 'PC, Máy in',\n  icon: 'fa-desktop',\n  path: '/pc'\n}];\nconst mockPriceRange = {\n  min: 1000000,\n  max: 50000000,\n  steps: [1000000, 3000000, 7000000, 10000000, 15000000, 25000000, 50000000]\n};\nconst mockProducts = [{\n  id: 1,\n  name: 'iPhone 15 Pro Max',\n  price: 34990000,\n  discountPrice: 32990000,\n  imageUrl: '/assets/images/products/iphone-15-pro-max.jpg',\n  categoryId: 'phone',\n  brandId: 'apple',\n  rating: 4.9,\n  reviewCount: 120,\n  stockStatus: 'in_stock',\n  specifications: {\n    screen: '6.7 inches, Super Retina XDR OLED',\n    cpu: 'Apple A17 Pro',\n    ram: '8GB',\n    storage: '256GB',\n    camera: 'Triple 48MP + 12MP + 12MP',\n    battery: '4422mAh'\n  }\n}, {\n  id: 2,\n  name: 'Samsung Galaxy S24 Ultra',\n  price: 31990000,\n  discountPrice: 29990000,\n  imageUrl: '/assets/images/products/samsung-galaxy-s24.jpg',\n  categoryId: 'phone',\n  brandId: 'samsung',\n  rating: 4.8,\n  reviewCount: 95,\n  stockStatus: 'in_stock',\n  specifications: {\n    screen: '6.8 inches, Dynamic AMOLED 2X',\n    cpu: 'Snapdragon 8 Gen 3',\n    ram: '12GB',\n    storage: '256GB',\n    camera: 'Quad 200MP + 12MP + 50MP + 10MP',\n    battery: '5000mAh'\n  }\n}, {\n  id: 3,\n  name: 'Xiaomi 14 Pro',\n  price: 19990000,\n  discountPrice: 18490000,\n  imageUrl: '/assets/images/products/xiaomi-14-pro.jpg',\n  categoryId: 'phone',\n  brandId: 'xiaomi',\n  rating: 4.6,\n  reviewCount: 78,\n  stockStatus: 'in_stock',\n  specifications: {\n    screen: '6.73 inches, AMOLED',\n    cpu: 'Snapdragon 8 Gen 3',\n    ram: '12GB',\n    storage: '256GB',\n    camera: 'Triple 50MP + 50MP + 50MP',\n    battery: '4880mAh'\n  }\n}, {\n  id: 4,\n  name: 'OPPO Find X7 Ultra',\n  price: 24990000,\n  discountPrice: 23990000,\n  imageUrl: '/assets/images/products/oppo-find-x7.jpg',\n  categoryId: 'phone',\n  brandId: 'oppo',\n  rating: 4.7,\n  reviewCount: 64,\n  stockStatus: 'in_stock',\n  specifications: {\n    screen: '6.82 inches, AMOLED',\n    cpu: 'Dimensity 9300',\n    ram: '16GB',\n    storage: '512GB',\n    camera: 'Quad 50MP + 50MP + 50MP + 50MP',\n    battery: '5150mAh'\n  }\n}, {\n  id: 5,\n  name: 'MacBook Pro 16 M3 Max',\n  price: 85990000,\n  discountPrice: null,\n  imageUrl: '/assets/images/products/macbook-pro-16.jpg',\n  categoryId: 'laptop',\n  brandId: 'apple',\n  rating: 4.9,\n  reviewCount: 45,\n  stockStatus: 'in_stock',\n  specifications: {\n    screen: '16.2 inches, Liquid Retina XDR',\n    cpu: 'Apple M3 Max',\n    ram: '64GB',\n    storage: '1TB SSD',\n    gpu: 'Apple GPU 40-core',\n    battery: 'Up to 22 hours'\n  }\n}, {\n  id: 6,\n  name: 'Asus ROG Strix G16',\n  price: 45990000,\n  discountPrice: 42990000,\n  imageUrl: '/assets/images/products/asus-rog-strix.jpg',\n  categoryId: 'laptop',\n  brandId: 'asus',\n  rating: 4.7,\n  reviewCount: 36,\n  stockStatus: 'in_stock',\n  specifications: {\n    screen: '16 inches, QHD 240Hz',\n    cpu: 'Intel Core i9-14900H',\n    ram: '32GB',\n    storage: '1TB SSD',\n    gpu: 'NVIDIA RTX 4080',\n    battery: '90Whr'\n  }\n}];\n\n// Thêm mock data cho cart\nconst mockCart = {\n  items: [{\n    productId: 1,\n    quantity: 2,\n    product: mockProducts[0]\n  }, {\n    productId: 2,\n    quantity: 1,\n    product: mockProducts[1]\n  }],\n  total: 95970000\n};\n\n// Thêm mock data cho orders\nconst mockOrders = [{\n  id: 1,\n  orderNumber: \"ORD001\",\n  date: \"2024-02-20\",\n  status: \"delivered\",\n  items: [mockProducts[0]],\n  total: 32990000,\n  shippingAddress: \"123 Đường ABC, Quận 1, TP.HCM\"\n}, {\n  id: 2,\n  orderNumber: \"ORD002\",\n  date: \"2024-02-21\",\n  status: \"processing\",\n  items: [mockProducts[1], mockProducts[2]],\n  total: 48480000,\n  shippingAddress: \"456 Đường XYZ, Quận 2, TP.HCM\"\n}];\n\n// API Service class\nexport class ApiService {\n  // Banners\n  static async fetchBanners() {\n    console.log('[ApiService] fetchBanners - start');\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.BANNERS);\n      console.log('[ApiService] fetchBanners - success', {\n        count: response.data.length\n      });\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] fetchBanners - error:', error);\n      console.log('[ApiService] fetchBanners - using fallback data');\n      return FALLBACK_DATA.banners;\n    }\n  }\n\n  // Categories\n  static async fetchCategories() {\n    console.log('[ApiService] fetchCategories - start');\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.CATEGORIES);\n      console.log('[ApiService] fetchCategories - success', {\n        count: response.data.length\n      });\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] fetchCategories - error:', error);\n      console.log('[ApiService] fetchCategories - using fallback data');\n      return FALLBACK_DATA.categories;\n    }\n  }\n\n  // Products\n  static async fetchProducts(filters = {}) {\n    console.log('[ApiService] fetchProducts - start', {\n      filters\n    });\n    try {\n      var _response$data$conten;\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCTS, {\n        params: filters\n      });\n      console.log('[ApiService] fetchProducts - success', {\n        resultCount: response.data.length || ((_response$data$conten = response.data.content) === null || _response$data$conten === void 0 ? void 0 : _response$data$conten.length)\n      });\n\n      // Handle paginated response\n      if (response.data.content && Array.isArray(response.data.content)) {\n        return response.data.content;\n      }\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] fetchProducts - error:', error);\n      console.log('[ApiService] fetchProducts - using fallback data');\n\n      // Áp dụng filter đơn giản cho dữ liệu fallback\n      let filteredProducts = [...FALLBACK_DATA.products];\n      if (filters.categoryId) {\n        filteredProducts = filteredProducts.filter(p => p.categoryId === filters.categoryId);\n      }\n      if (filters.brandId) {\n        filteredProducts = filteredProducts.filter(p => p.brandId === filters.brandId);\n      }\n      return filteredProducts;\n    }\n  }\n\n  // Product detail\n  static async fetchProductById(productId) {\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCT_DETAIL(productId));\n      return response.data;\n    } catch (error) {\n      console.error(`[ApiService] Error fetching product ${productId}:`, error);\n      console.log(`[ApiService] fetchProductById - using fallback data for product ${productId}`);\n\n      // Find product in fallback data\n      const product = FALLBACK_DATA.products.find(p => p.id === parseInt(productId, 10));\n      if (!product) {\n        throw new Error('Product not found');\n      }\n      return product;\n    }\n  }\n\n  // Price range\n  static async fetchPriceRange() {\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRICE_RANGE);\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] Error fetching price range:', error);\n      throw error;\n    }\n  }\n\n  // Search\n  static async searchProducts(query) {\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCT_SEARCH, {\n        params: {\n          keyword: query,\n          page: 0,\n          size: API_CONFIG.DEFAULT_PAGE_SIZE\n        }\n      });\n\n      // Handle paginated response\n      if (response.data.content && Array.isArray(response.data.content)) {\n        return response.data.content;\n      }\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] Error searching products:', error);\n      console.log('[ApiService] searchProducts - using fallback data');\n\n      // Filter fallback data based on query\n      const searchTerm = query.toLowerCase();\n      return FALLBACK_DATA.products.filter(p => {\n        var _p$brandId;\n        return p.name.toLowerCase().includes(searchTerm) || p.categoryId.toLowerCase().includes(searchTerm) || ((_p$brandId = p.brandId) === null || _p$brandId === void 0 ? void 0 : _p$brandId.toLowerCase().includes(searchTerm));\n      });\n    }\n  }\n\n  // Fetch Hot Phones\n  static async fetchHotPhones() {\n    console.log('[ApiService] fetchHotPhones - start');\n    try {\n      var _response$data;\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCTS, {\n        params: {\n          categoryId: 'phone',\n          featured: true,\n          page: 0,\n          size: 10\n        }\n      });\n      let phonesData = [];\n      if (response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.content && Array.isArray(response.data.content)) {\n        // API trả về dạng phân trang\n        console.log('[ApiService] fetchHotPhones - API returned paginated data');\n        phonesData = response.data.content;\n      } else if (response !== null && response !== void 0 && response.data && Array.isArray(response.data)) {\n        // API trả về mảng trực tiếp\n        console.log('[ApiService] fetchHotPhones - API returned array data');\n        phonesData = response.data;\n      }\n      console.log('[ApiService] fetchHotPhones - success', {\n        resultCount: phonesData.length\n      });\n      return phonesData;\n    } catch (error) {\n      console.error('[ApiService] fetchHotPhones - error:', error);\n      console.log('[ApiService] fetchHotPhones - using fallback data');\n      return FALLBACK_DATA.products.filter(p => p.categoryId === 'phone');\n    }\n  }\n\n  // Cart methods\n  static async getCart() {\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.CART);\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] Error getting cart:', error);\n      console.log('[ApiService] getCart - using fallback data');\n      return FALLBACK_DATA.cart;\n    }\n  }\n  static async updateCartItem(productId, quantity) {\n    try {\n      const response = await apiClient.put(API_CONFIG.ENDPOINTS.CART_ITEM(productId), {\n        quantity\n      });\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] Error updating cart:', error);\n      console.log('[ApiService] updateCartItem - using fallback data');\n\n      // Cập nhật giỏ hàng trong dữ liệu fallback\n      const existingItemIndex = FALLBACK_DATA.cart.items.findIndex(item => item.productId === productId);\n      if (existingItemIndex >= 0) {\n        FALLBACK_DATA.cart.items[existingItemIndex].quantity = quantity;\n      }\n      return {\n        success: true\n      };\n    }\n  }\n  static async addToCart(productId, quantity = 1) {\n    try {\n      const response = await apiClient.post(API_CONFIG.ENDPOINTS.CART_ITEMS, {\n        productId,\n        quantity\n      });\n      return response.data;\n    } catch (error) {\n      console.error(`[ApiService] Error adding product ${productId} to cart:`, error);\n      console.log('[ApiService] addToCart - using fallback data');\n\n      // Thêm vào giỏ hàng trong dữ liệu fallback\n      const product = FALLBACK_DATA.products.find(p => p.id === productId);\n      if (product) {\n        const existingItemIndex = FALLBACK_DATA.cart.items.findIndex(item => item.productId === productId);\n        if (existingItemIndex >= 0) {\n          FALLBACK_DATA.cart.items[existingItemIndex].quantity += quantity;\n        } else {\n          FALLBACK_DATA.cart.items.push({\n            productId,\n            quantity,\n            product\n          });\n        }\n      }\n      return {\n        success: true\n      };\n    }\n  }\n  static async removeFromCart(productId) {\n    try {\n      const response = await apiClient.delete(API_CONFIG.ENDPOINTS.CART_ITEM(productId));\n      return response.data;\n    } catch (error) {\n      console.error(`[ApiService] Error removing product ${productId} from cart:`, error);\n      console.log('[ApiService] removeFromCart - using fallback data');\n\n      // Xóa khỏi giỏ hàng trong dữ liệu fallback\n      FALLBACK_DATA.cart.items = FALLBACK_DATA.cart.items.filter(item => item.productId !== productId);\n      return {\n        success: true\n      };\n    }\n  }\n\n  // Order methods\n  static async getOrders() {\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.ORDERS);\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] Error getting orders:', error);\n      console.log('[ApiService] getOrders - using fallback data');\n      return FALLBACK_DATA.orders;\n    }\n  }\n  static async getOrderById(orderId) {\n    try {\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.ORDER_DETAIL(orderId));\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] Error getting order:', error);\n      console.log('[ApiService] getOrderById - using fallback data');\n      const order = FALLBACK_DATA.orders.find(o => o.id === orderId);\n      if (!order) {\n        throw new Error('Order not found');\n      }\n      return order;\n    }\n  }\n  static async createOrder(orderData) {\n    try {\n      const response = await apiClient.post(API_CONFIG.ENDPOINTS.ORDERS, orderData);\n      return response.data;\n    } catch (error) {\n      console.error('[ApiService] Error creating order:', error);\n      console.log('[ApiService] createOrder - using fallback data');\n\n      // Tạo đơn hàng mới trong dữ liệu fallback\n      const newOrder = {\n        id: Date.now(),\n        orderNumber: `ORD${Date.now().toString().slice(-6)}`,\n        date: new Date().toISOString().split('T')[0],\n        status: 'processing',\n        ...orderData\n      };\n      FALLBACK_DATA.orders.push(newOrder);\n\n      // Xóa giỏ hàng sau khi đặt hàng\n      FALLBACK_DATA.cart.items = [];\n      return {\n        success: true,\n        orderId: newOrder.id\n      };\n    }\n  }\n}","map":{"version":3,"names":["axios","API_CONFIG","API_BASE_URL","BASE_URL","FALLBACK_DATA","products","id","name","price","discountPrice","imageUrl","categoryId","brandId","rating","reviewCount","stockStatus","categories","icon","path","banners","title","link","cart","items","total","orders","apiClient","create","baseURL","headers","timeout","TIMEOUT","interceptors","request","use","config","token","localStorage","getItem","console","log","method","toUpperCase","url","hasToken","params","Authorization","error","Promise","reject","response","status","data","_error$config","_error$config$method","_error$config2","_error$response","_error$response2","message","removeItem","protectedRoutes","currentPath","window","location","pathname","isProtected","some","route","startsWith","href","mockBanners","placeId","mockCategories","mockPriceRange","min","max","steps","mockProducts","specifications","screen","cpu","ram","storage","camera","battery","gpu","mockCart","productId","quantity","product","mockOrders","orderNumber","date","shippingAddress","ApiService","fetchBanners","get","ENDPOINTS","BANNERS","count","length","fetchCategories","CATEGORIES","fetchProducts","filters","_response$data$conten","PRODUCTS","resultCount","content","Array","isArray","filteredProducts","filter","p","fetchProductById","PRODUCT_DETAIL","find","parseInt","Error","fetchPriceRange","PRICE_RANGE","searchProducts","query","PRODUCT_SEARCH","keyword","page","size","DEFAULT_PAGE_SIZE","searchTerm","toLowerCase","_p$brandId","includes","fetchHotPhones","_response$data","featured","phonesData","getCart","CART","updateCartItem","put","CART_ITEM","existingItemIndex","findIndex","item","success","addToCart","post","CART_ITEMS","push","removeFromCart","delete","getOrders","ORDERS","getOrderById","orderId","ORDER_DETAIL","order","o","createOrder","orderData","newOrder","Date","now","toString","slice","toISOString","split"],"sources":["C:/Users/GIGABYTE/Documents/phone_selling_app/frontend/User/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport { API_CONFIG } from '../constants/api';\r\n\r\n// API base URL\r\nconst API_BASE_URL = API_CONFIG.BASE_URL;\r\n\r\n// Tạo dữ liệu mẫu cho fallback trong trường hợp API không hoạt động\r\nconst FALLBACK_DATA = {\r\n  products: [\r\n    {\r\n      id: 1,\r\n      name: 'iPhone 15 Pro Max',\r\n      price: 34990000,\r\n      discountPrice: 32990000,\r\n      imageUrl: '/assets/images/products/iphone-15-pro-max.jpg',\r\n      categoryId: 'phone',\r\n      brandId: 'apple',\r\n      rating: 4.9,\r\n      reviewCount: 120,\r\n      stockStatus: 'in_stock'\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Samsung Galaxy S24 Ultra',\r\n      price: 31990000,\r\n      discountPrice: 29990000,\r\n      imageUrl: '/assets/images/products/samsung-galaxy-s24.jpg',\r\n      categoryId: 'phone',\r\n      brandId: 'samsung',\r\n      rating: 4.8,\r\n      reviewCount: 95,\r\n      stockStatus: 'in_stock'\r\n    }\r\n  ],\r\n  categories: [\r\n    { id: 'phone', name: 'Điện thoại', icon: 'fa-mobile-alt', path: '/phone' },\r\n    { id: 'laptop', name: 'Laptop', icon: 'fa-laptop', path: '/laptop' }\r\n  ],\r\n  banners: [\r\n    {\r\n      id: 1,\r\n      title: 'iPhone 15 Pro Max Mới',\r\n      imageUrl: '/assets/images/banners/iphone-15-pro-max.jpg',\r\n      link: '/product/iphone-15-pro-max'\r\n    }\r\n  ],\r\n  cart: {\r\n    items: [],\r\n    total: 0\r\n  },\r\n  orders: []\r\n};\r\n\r\n// Create an axios instance\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: API_CONFIG.TIMEOUT, // 10 seconds timeout\r\n});\r\n\r\n// Add request interceptor for auth token\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('authToken');\r\n    console.log(`[API Request] ${config.method.toUpperCase()} ${config.url}`, {\r\n      hasToken: !!token,\r\n      params: config.params\r\n    });\r\n    \r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('[API Request Error]', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add response interceptor for error handling\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`[API Response] ${response.config.method.toUpperCase()} ${response.config.url}`, {\r\n      status: response.status,\r\n      data: response.data ? (typeof response.data === 'object' ? 'Object Data' : 'Data') : null\r\n    });\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error(`[API Error] ${error.config?.method?.toUpperCase() || 'UNKNOWN'} ${error.config?.url || 'unknown'}`, {\r\n      status: error.response?.status,\r\n      message: error.message,\r\n      data: error.response?.data\r\n    });\r\n    \r\n    // Handle 401 Unauthorized errors\r\n    if (error.response && error.response.status === 401) {\r\n      // Clear local storage but don't redirect automatically\r\n      localStorage.removeItem('authToken');\r\n      localStorage.removeItem('user');\r\n      \r\n      // Chỉ chuyển hướng nếu đang ở trang yêu cầu xác thực\r\n      const protectedRoutes = ['/cart', '/checkout', '/profile', '/orders'];\r\n      const currentPath = window.location.pathname;\r\n      \r\n      console.log('[Auth] 401 Error - Protected route check', {\r\n        currentPath,\r\n        isProtected: protectedRoutes.some(route => currentPath.startsWith(route))\r\n      });\r\n      \r\n      if (protectedRoutes.some(route => currentPath.startsWith(route))) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// For demo purposes, we'll add some mock data\r\nconst mockBanners = [\r\n  {\r\n    id: 1,\r\n    title: 'iPhone 15 Pro Max Mới',\r\n    imageUrl: '/assets/images/banners/iphone-15-pro-max.jpg',\r\n    link: '/product/iphone-15-pro-max',\r\n    categoryId: 'phone',\r\n    placeId: 'home'\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Samsung Galaxy S24 Ultra',\r\n    imageUrl: '/assets/images/banners/samsung-galaxy-s24.jpg',\r\n    link: '/product/samsung-galaxy-s24-ultra',\r\n    categoryId: 'phone',\r\n    placeId: 'home'\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Laptop Gaming Asus ROG',\r\n    imageUrl: '/assets/images/banners/asus-rog.jpg',\r\n    link: '/product/asus-rog-strix-g16',\r\n    categoryId: 'laptop',\r\n    placeId: 'home'\r\n  }\r\n];\r\n\r\nconst mockCategories = [\r\n  { id: 'phone', name: 'Điện thoại', icon: 'fa-mobile-alt', path: '/phone' },\r\n  { id: 'laptop', name: 'Laptop', icon: 'fa-laptop', path: '/laptop' },\r\n  { id: 'tablet', name: 'Máy tính bảng', icon: 'fa-tablet-alt', path: '/tablet' },\r\n  { id: 'smartwatch', name: 'Đồng hồ thông minh', icon: 'fa-clock', path: '/smartwatch' },\r\n  { id: 'accessories', name: 'Phụ kiện', icon: 'fa-headphones', path: '/accessory' },\r\n  { id: 'watch', name: 'Đồng hồ', icon: 'fa-stopwatch', path: '/watch' },\r\n  { id: 'pc', name: 'PC, Máy in', icon: 'fa-desktop', path: '/pc' },\r\n];\r\n\r\nconst mockPriceRange = {\r\n  min: 1000000,\r\n  max: 50000000,\r\n  steps: [1000000, 3000000, 7000000, 10000000, 15000000, 25000000, 50000000]\r\n};\r\n\r\nconst mockProducts = [\r\n  {\r\n    id: 1,\r\n    name: 'iPhone 15 Pro Max',\r\n    price: 34990000,\r\n    discountPrice: 32990000,\r\n    imageUrl: '/assets/images/products/iphone-15-pro-max.jpg',\r\n    categoryId: 'phone',\r\n    brandId: 'apple',\r\n    rating: 4.9,\r\n    reviewCount: 120,\r\n    stockStatus: 'in_stock',\r\n    specifications: {\r\n      screen: '6.7 inches, Super Retina XDR OLED',\r\n      cpu: 'Apple A17 Pro',\r\n      ram: '8GB',\r\n      storage: '256GB',\r\n      camera: 'Triple 48MP + 12MP + 12MP',\r\n      battery: '4422mAh'\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'Samsung Galaxy S24 Ultra',\r\n    price: 31990000,\r\n    discountPrice: 29990000,\r\n    imageUrl: '/assets/images/products/samsung-galaxy-s24.jpg',\r\n    categoryId: 'phone',\r\n    brandId: 'samsung',\r\n    rating: 4.8,\r\n    reviewCount: 95,\r\n    stockStatus: 'in_stock',\r\n    specifications: {\r\n      screen: '6.8 inches, Dynamic AMOLED 2X',\r\n      cpu: 'Snapdragon 8 Gen 3',\r\n      ram: '12GB',\r\n      storage: '256GB',\r\n      camera: 'Quad 200MP + 12MP + 50MP + 10MP',\r\n      battery: '5000mAh'\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'Xiaomi 14 Pro',\r\n    price: 19990000,\r\n    discountPrice: 18490000,\r\n    imageUrl: '/assets/images/products/xiaomi-14-pro.jpg',\r\n    categoryId: 'phone',\r\n    brandId: 'xiaomi',\r\n    rating: 4.6,\r\n    reviewCount: 78,\r\n    stockStatus: 'in_stock',\r\n    specifications: {\r\n      screen: '6.73 inches, AMOLED',\r\n      cpu: 'Snapdragon 8 Gen 3',\r\n      ram: '12GB',\r\n      storage: '256GB',\r\n      camera: 'Triple 50MP + 50MP + 50MP',\r\n      battery: '4880mAh'\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'OPPO Find X7 Ultra',\r\n    price: 24990000,\r\n    discountPrice: 23990000,\r\n    imageUrl: '/assets/images/products/oppo-find-x7.jpg',\r\n    categoryId: 'phone',\r\n    brandId: 'oppo',\r\n    rating: 4.7,\r\n    reviewCount: 64,\r\n    stockStatus: 'in_stock',\r\n    specifications: {\r\n      screen: '6.82 inches, AMOLED',\r\n      cpu: 'Dimensity 9300',\r\n      ram: '16GB',\r\n      storage: '512GB',\r\n      camera: 'Quad 50MP + 50MP + 50MP + 50MP',\r\n      battery: '5150mAh'\r\n    }\r\n  },\r\n  {\r\n    id: 5,\r\n    name: 'MacBook Pro 16 M3 Max',\r\n    price: 85990000,\r\n    discountPrice: null,\r\n    imageUrl: '/assets/images/products/macbook-pro-16.jpg',\r\n    categoryId: 'laptop',\r\n    brandId: 'apple',\r\n    rating: 4.9,\r\n    reviewCount: 45,\r\n    stockStatus: 'in_stock',\r\n    specifications: {\r\n      screen: '16.2 inches, Liquid Retina XDR',\r\n      cpu: 'Apple M3 Max',\r\n      ram: '64GB',\r\n      storage: '1TB SSD',\r\n      gpu: 'Apple GPU 40-core',\r\n      battery: 'Up to 22 hours'\r\n    }\r\n  },\r\n  {\r\n    id: 6,\r\n    name: 'Asus ROG Strix G16',\r\n    price: 45990000,\r\n    discountPrice: 42990000,\r\n    imageUrl: '/assets/images/products/asus-rog-strix.jpg',\r\n    categoryId: 'laptop',\r\n    brandId: 'asus',\r\n    rating: 4.7,\r\n    reviewCount: 36,\r\n    stockStatus: 'in_stock',\r\n    specifications: {\r\n      screen: '16 inches, QHD 240Hz',\r\n      cpu: 'Intel Core i9-14900H',\r\n      ram: '32GB',\r\n      storage: '1TB SSD',\r\n      gpu: 'NVIDIA RTX 4080',\r\n      battery: '90Whr'\r\n    }\r\n  }\r\n];\r\n\r\n// Thêm mock data cho cart\r\nconst mockCart = {\r\n  items: [\r\n    {\r\n      productId: 1,\r\n      quantity: 2,\r\n      product: mockProducts[0]\r\n    },\r\n    {\r\n      productId: 2,\r\n      quantity: 1,\r\n      product: mockProducts[1]\r\n    }\r\n  ],\r\n  total: 95970000\r\n};\r\n\r\n// Thêm mock data cho orders\r\nconst mockOrders = [\r\n  {\r\n    id: 1,\r\n    orderNumber: \"ORD001\",\r\n    date: \"2024-02-20\",\r\n    status: \"delivered\",\r\n    items: [mockProducts[0]],\r\n    total: 32990000,\r\n    shippingAddress: \"123 Đường ABC, Quận 1, TP.HCM\"\r\n  },\r\n  {\r\n    id: 2, \r\n    orderNumber: \"ORD002\",\r\n    date: \"2024-02-21\",\r\n    status: \"processing\",\r\n    items: [mockProducts[1], mockProducts[2]],\r\n    total: 48480000,\r\n    shippingAddress: \"456 Đường XYZ, Quận 2, TP.HCM\"\r\n  }\r\n];\r\n\r\n// API Service class\r\nexport class ApiService {\r\n  // Banners\r\n  static async fetchBanners() {\r\n    console.log('[ApiService] fetchBanners - start');\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.BANNERS);\r\n      console.log('[ApiService] fetchBanners - success', { count: response.data.length });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] fetchBanners - error:', error);\r\n      console.log('[ApiService] fetchBanners - using fallback data');\r\n      return FALLBACK_DATA.banners;\r\n    }\r\n  }\r\n\r\n  // Categories\r\n  static async fetchCategories() {\r\n    console.log('[ApiService] fetchCategories - start');\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.CATEGORIES);\r\n      console.log('[ApiService] fetchCategories - success', { count: response.data.length });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] fetchCategories - error:', error);\r\n      console.log('[ApiService] fetchCategories - using fallback data');\r\n      return FALLBACK_DATA.categories;\r\n    }\r\n  }\r\n\r\n  // Products\r\n  static async fetchProducts(filters = {}) {\r\n    console.log('[ApiService] fetchProducts - start', { filters });\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCTS, { params: filters });\r\n      console.log('[ApiService] fetchProducts - success', { \r\n        resultCount: response.data.length || response.data.content?.length\r\n      });\r\n      \r\n      // Handle paginated response\r\n      if (response.data.content && Array.isArray(response.data.content)) {\r\n        return response.data.content;\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] fetchProducts - error:', error);\r\n      console.log('[ApiService] fetchProducts - using fallback data');\r\n      \r\n      // Áp dụng filter đơn giản cho dữ liệu fallback\r\n      let filteredProducts = [...FALLBACK_DATA.products];\r\n      \r\n      if (filters.categoryId) {\r\n        filteredProducts = filteredProducts.filter(p => p.categoryId === filters.categoryId);\r\n      }\r\n      \r\n      if (filters.brandId) {\r\n        filteredProducts = filteredProducts.filter(p => p.brandId === filters.brandId);\r\n      }\r\n      \r\n      return filteredProducts;\r\n    }\r\n  }\r\n\r\n  // Product detail\r\n  static async fetchProductById(productId) {\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCT_DETAIL(productId));\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`[ApiService] Error fetching product ${productId}:`, error);\r\n      console.log(`[ApiService] fetchProductById - using fallback data for product ${productId}`);\r\n      \r\n      // Find product in fallback data\r\n      const product = FALLBACK_DATA.products.find(p => p.id === parseInt(productId, 10));\r\n      if (!product) {\r\n        throw new Error('Product not found');\r\n      }\r\n      return product;\r\n    }\r\n  }\r\n\r\n  // Price range\r\n  static async fetchPriceRange() {\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRICE_RANGE);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] Error fetching price range:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Search\r\n  static async searchProducts(query) {\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCT_SEARCH, { \r\n        params: { \r\n          keyword: query,\r\n          page: 0,\r\n          size: API_CONFIG.DEFAULT_PAGE_SIZE\r\n        } \r\n      });\r\n      \r\n      // Handle paginated response\r\n      if (response.data.content && Array.isArray(response.data.content)) {\r\n        return response.data.content;\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] Error searching products:', error);\r\n      console.log('[ApiService] searchProducts - using fallback data');\r\n      \r\n      // Filter fallback data based on query\r\n      const searchTerm = query.toLowerCase();\r\n      return FALLBACK_DATA.products.filter(p => \r\n        p.name.toLowerCase().includes(searchTerm) || \r\n        p.categoryId.toLowerCase().includes(searchTerm) ||\r\n        p.brandId?.toLowerCase().includes(searchTerm)\r\n      );\r\n    }\r\n  }\r\n\r\n  // Fetch Hot Phones\r\n  static async fetchHotPhones() {\r\n    console.log('[ApiService] fetchHotPhones - start');\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.PRODUCTS, { \r\n        params: { \r\n          categoryId: 'phone',\r\n          featured: true,\r\n          page: 0,\r\n          size: 10\r\n        } \r\n      });\r\n      \r\n      let phonesData = [];\r\n      \r\n      if (response?.data?.content && Array.isArray(response.data.content)) {\r\n        // API trả về dạng phân trang\r\n        console.log('[ApiService] fetchHotPhones - API returned paginated data');\r\n        phonesData = response.data.content;\r\n      } else if (response?.data && Array.isArray(response.data)) {\r\n        // API trả về mảng trực tiếp\r\n        console.log('[ApiService] fetchHotPhones - API returned array data');\r\n        phonesData = response.data;\r\n      }\r\n      \r\n      console.log('[ApiService] fetchHotPhones - success', { resultCount: phonesData.length });\r\n      return phonesData;\r\n    } catch (error) {\r\n      console.error('[ApiService] fetchHotPhones - error:', error);\r\n      console.log('[ApiService] fetchHotPhones - using fallback data');\r\n      return FALLBACK_DATA.products.filter(p => p.categoryId === 'phone');\r\n    }\r\n  }\r\n\r\n  // Cart methods\r\n  static async getCart() {\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.CART);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] Error getting cart:', error);\r\n      console.log('[ApiService] getCart - using fallback data');\r\n      return FALLBACK_DATA.cart;\r\n    }\r\n  }\r\n\r\n  static async updateCartItem(productId, quantity) {\r\n    try {\r\n      const response = await apiClient.put(API_CONFIG.ENDPOINTS.CART_ITEM(productId), { quantity });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] Error updating cart:', error);\r\n      console.log('[ApiService] updateCartItem - using fallback data');\r\n      \r\n      // Cập nhật giỏ hàng trong dữ liệu fallback\r\n      const existingItemIndex = FALLBACK_DATA.cart.items.findIndex(item => item.productId === productId);\r\n      \r\n      if (existingItemIndex >= 0) {\r\n        FALLBACK_DATA.cart.items[existingItemIndex].quantity = quantity;\r\n      }\r\n      \r\n      return { success: true };\r\n    }\r\n  }\r\n\r\n  static async addToCart(productId, quantity = 1) {\r\n    try {\r\n      const response = await apiClient.post(API_CONFIG.ENDPOINTS.CART_ITEMS, { productId, quantity });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`[ApiService] Error adding product ${productId} to cart:`, error);\r\n      console.log('[ApiService] addToCart - using fallback data');\r\n      \r\n      // Thêm vào giỏ hàng trong dữ liệu fallback\r\n      const product = FALLBACK_DATA.products.find(p => p.id === productId);\r\n      \r\n      if (product) {\r\n        const existingItemIndex = FALLBACK_DATA.cart.items.findIndex(item => item.productId === productId);\r\n        \r\n        if (existingItemIndex >= 0) {\r\n          FALLBACK_DATA.cart.items[existingItemIndex].quantity += quantity;\r\n        } else {\r\n          FALLBACK_DATA.cart.items.push({\r\n            productId,\r\n            quantity,\r\n            product\r\n          });\r\n        }\r\n      }\r\n      \r\n      return { success: true };\r\n    }\r\n  }\r\n\r\n  static async removeFromCart(productId) {\r\n    try {\r\n      const response = await apiClient.delete(API_CONFIG.ENDPOINTS.CART_ITEM(productId));\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(`[ApiService] Error removing product ${productId} from cart:`, error);\r\n      console.log('[ApiService] removeFromCart - using fallback data');\r\n      \r\n      // Xóa khỏi giỏ hàng trong dữ liệu fallback\r\n      FALLBACK_DATA.cart.items = FALLBACK_DATA.cart.items.filter(item => item.productId !== productId);\r\n      \r\n      return { success: true };\r\n    }\r\n  }\r\n\r\n  // Order methods\r\n  static async getOrders() {\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.ORDERS);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] Error getting orders:', error);\r\n      console.log('[ApiService] getOrders - using fallback data');\r\n      return FALLBACK_DATA.orders;\r\n    }\r\n  }\r\n\r\n  static async getOrderById(orderId) {\r\n    try {\r\n      const response = await apiClient.get(API_CONFIG.ENDPOINTS.ORDER_DETAIL(orderId));\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] Error getting order:', error);\r\n      console.log('[ApiService] getOrderById - using fallback data');\r\n      \r\n      const order = FALLBACK_DATA.orders.find(o => o.id === orderId);\r\n      if (!order) {\r\n        throw new Error('Order not found');\r\n      }\r\n      \r\n      return order;\r\n    }\r\n  }\r\n\r\n  static async createOrder(orderData) {\r\n    try {\r\n      const response = await apiClient.post(API_CONFIG.ENDPOINTS.ORDERS, orderData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('[ApiService] Error creating order:', error);\r\n      console.log('[ApiService] createOrder - using fallback data');\r\n      \r\n      // Tạo đơn hàng mới trong dữ liệu fallback\r\n      const newOrder = {\r\n        id: Date.now(),\r\n        orderNumber: `ORD${Date.now().toString().slice(-6)}`,\r\n        date: new Date().toISOString().split('T')[0],\r\n        status: 'processing',\r\n        ...orderData\r\n      };\r\n      \r\n      FALLBACK_DATA.orders.push(newOrder);\r\n      \r\n      // Xóa giỏ hàng sau khi đặt hàng\r\n      FALLBACK_DATA.cart.items = [];\r\n      \r\n      return { success: true, orderId: newOrder.id };\r\n    }\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}